<% index_group_navbar_options %>

window.addEventListener('ajax:success', () => {
  <%# Here I'm making sure that the browser updates the url %>
  window.history.pushState("", "", '<%= j root_path %>')
  <%# Here I'm refreshing the view for the nav bar %>
  document.querySelector('.nav-bar-container').remove()
  document.querySelector('#modal')
    .insertAdjacentHTML('afterend', '<%= escape_javascript render partial: 'navigations/navbar' %>')
  <%# Here I'm making sure that the correct templated is being rendered %>
  if (document.querySelector('.page-container')) {
    document.querySelector('.page-container').remove()
    document.querySelector('.p-relative')
      .insertAdjacentHTML('beforeend', '<%= escape_javascript render template: 'groups/index' %>')
  } else {
    document.querySelector('.user-transaction-container').remove()
    document.querySelector('.p-relative')
      .insertAdjacentHTML('beforeend', '<%= escape_javascript render template: 'groups/index' %>')
  }
})

